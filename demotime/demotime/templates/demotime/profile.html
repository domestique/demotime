{% extends 'base.html' %}
{% load demo_tags %}

{% block styles %}
{{ block.super }}
<style>
    main .avatar {
        display: block;
        margin-bottom: 30px;
        max-width: 310px;
        height: auto;
    }
    .avatarless a {
        border: 1px solid #C3B2FF;
        text-align: center;
        padding: 80px 20px;
        display: block;
        transition: 1s;
    }
    .avatarless a:hover {
        text-decoration: none;
        background: #ffffe7;
    }
    {% if not owner_viewing %}
    .reviews-updates > *,
    .tooltip {
        display: none;
    }
    {% endif %}
    h3 {
        font-size: 16px;
        font-weight: 700;
    }
    section {
        width: 70%;
        padding: 10px;
    }
    @media screen and (max-width:680px) {
        section {
            width: 100%;
            overflow: hidden;
            box-sizing: border-box;
        }
    }
    section ul {
        margin: 0;
    }
    section label:first-child {
        margin-top: 0;
    }
</style>
{% endblock %}

{% block content %}
    <h1 class="heading">
        {% if owner_viewing %}Your Profile{% else %}{{ object }}'s Profile{% endif %}
        {% if owner_viewing %}
            <a href="{% url 'edit-profile' object.pk %}">(edit)</a>
        {% endif %}
    </h1>

    {% if object.avatar.name %}
        <img src="{% url "user-media" object.avatar.name %}" class="avatar">
    {% else %}
        {% if owner_viewing %}
            <div class="avatarless">
                <a href="{% url 'edit-profile' object.pk %}">Edit your profile to add an avatar</a>
            </div>
        {% else %}
            <img src="/static/images/no_image.jpg" class="avatar">
        {% endif %}
    {% endif %}
    <section>
        <label>Display Name:</label>
        {{ object.display_name }}
        {% if owner_viewing %}
            <label>
                Email:
                {% if owner_viewing %}<span class="tooltip" title="Your email is not displayed publicly."></span>{% endif %}
            </label>
            {{ object.user.email }}
        {% endif %}
        {% if object.bio %}
            <label>
                Bio:
            </label>
            {{ object.bio|safe }}
        {% endif %}
    </section>
    {% if open_demos %}
        {% include "includes/demos_box.html" with reviews=open_demos user=object.user %}
    {% endif %}
    {% if open_reviews %}
        {% include "includes/reviews_box.html" with reviews=open_reviews user=object.user %}
    {% endif %}
{% endblock %}
